{% assign componentName = page.component.name | default: page.title | downcase %}
{% assign componentKey = componentName | slugify %}
{% assign changelog = site.data.changelogs[componentKey] %}
{% assign changelogItems = changelog.items %}

{%- if changelog.items or changelog.url -%}
  <h2 id="{{ componentKey }}-changelog" class="site-component-section-title">Latest updates</h2>
{%- endif -%}

{%- if changelog.url -%}
  <p>Find a list of all code changes for this component in its <a href="{{ changelog.url }}">CHANGELOG.md</a>.</p>
{%- endif -%}

{%- if changelog.items -%}
  {% include changelog-table.html %}
{%- endif -%}
